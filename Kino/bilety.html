<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Kinomax - Bilety</title>
  <link rel="stylesheet" href="style.css">

  <style>
    /* Nowy styl dla zaznaczonego kwadratu */
    .selected-seat {
      background-color: red;
    }

    /* Nowy styl dla układu miejsc */
    .row-container {
      display: flex;
      justify-content: center;
    }

    .seat-container {
      margin: 5px;
      width: 20px;
      height: 20px;
      border: 1px solid black;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .seat-container.selected {
      background-color: red;
    }
  </style>
</head>
<body>
  <header>
    <h1>Kinomax</h1>
    <nav>
      <ul>
        <li><a href="index.html">Strona główna</a></li>
        <li><a href="filmy.html">Filmy</a></li>
        <li><a href="repertuar.html">Repertuar</a></li>
        <li><a href="bilety.html">Bilety</a></li>
        <li><a href="kontakt.html">Kontakt</a></li>
      </ul>
    </nav>
  </header>
  <div id="content">
    <h2>Rezerwacja biletów</h2>

    <form>
      <label for="month">Miesiąc:</label>
      <select id="month">
        <option value="czerwiec" selected>Czerwiec</option>
        <!-- Dodaj opcje dla pozostałych miesięcy tutaj -->
      </select>

      <label for="day">Dzień:</label>
      <select id="day">
        <option value="">WYBIERZ</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <!-- Dodaj opcje dla pozostałych dni tutaj -->
      </select>

      <label for="movie">Film:</label>
      <select id="movie">
        <option value="" disabled selected>Wybierz</option>
        <!-- Dynamicznie generowane opcje filmów -->
      </select>

      <label for="time">Godzina:</label>
      <select id="time">
        <option value="" disabled selected>Wybierz</option>
        <!-- Dynamicznie generowane opcje godzin -->
      </select>

      <label for="hall">Sala:</label>
      <select id="hall">
        <option value="" disabled selected>Wybierz</option>
        <!-- Dynamicznie generowane opcje sal -->
      </select>

      <div id="seats"></div>

      <button type="submit" disabled>Zarezerwuj</button>
    </form>
  </div>

  <footer>
    <p>© 2023 Kinomax. Wszelkie prawa zastrzeżone.</p>
  </footer>

  <script>
    const moviesData = {
      'czerwiec-5': [
        { title: 'SPIDER-MAN: POPRZEZ MULTIWERSUM', time: '15:00', hall: 'sala1' },
        { title: 'SZYBCY I WŚCIEKLI 10', time: '18:00', hall: 'sala2' }
      ],
      'czerwiec-6': [
        { title: 'SPIDER-MAN: POPRZEZ MULTIWERSUM', time: '14:30', hall: 'sala1' },
        { title: 'STRAŻNICY GALAKTYKI: VOLUME 3', time: '17:30', hall: 'sala2' }
      ],
      'czerwiec-7': [
        { title: 'MOJE WAKACJE Z RUDYM', time: '16:00', hall: 'sala1' },
        { title: 'PADDINGTON 2', time: '19:00', hall: 'sala2' }
      ],
      'czerwiec-8': [
        { title: 'MOJE WAKACJE Z RUDYM', time: '15:30', hall: 'sala1' },
        { title: 'MILCZENIE OWIEC', time: '18:30', hall: 'sala2' }
      ],
      'czerwiec-9': [
        { title: 'PADDINGTON 2', time: '16:30', hall: 'sala1' },
        { title: 'MILCZENIE OWIEC', time: '19:30', hall: 'sala2' }
      ]
      // Dodaj filmy dla pozostałych dni/miesięcy tutaj
    };

    const seatsData = {
      sala1: [
        ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8'],
        ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8'],
        ['C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'C7', 'C8']
      ],
      sala2: [
        ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8'],
        ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8'],
        ['C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'C7', 'C8'],
        ['D1', 'D2', 'D3', 'D4', 'D5', 'D6', 'D7', 'D8']
      ]
      // Dodaj sale dla pozostałych kin tutaj
    };

    const monthSelect = document.getElementById('month');
    const daySelect = document.getElementById('day');
    const movieSelect = document.getElementById('movie');
    const timeSelect = document.getElementById('time');
    const hallSelect = document.getElementById('hall');
    const seatsContainer = document.getElementById('seats');
    const submitButton = document.querySelector('button[type="submit"]');

    function updateMovieOptions() {
      const selectedMonth = monthSelect.value;
      const selectedDay = daySelect.value;
      const key = `${selectedMonth}-${selectedDay}`;

      // Wyczyść opcje filmów
      movieSelect.innerHTML = '<option value="" disabled selected>Wybierz</option>';

      if (movies.hasOwnProperty(key)) {
        // Pobierz filmy dla wybranego dnia
        const moviesForDay = movies[key];

        // Dodaj opcje filmów do listy rozwijanej
        moviesForDay.forEach(movie => {
          const option = document.createElement('option');
          option.value = movie.title;
          option.textContent = movie.title;
          movieSelect.appendChild(option);
        });
      }

      updateButtonState();
    }

    function updateTimeOptions() {
      const selectedMovie = movieSelect.value;
      const selectedMonth = monthSelect.value;
      const selectedDay = daySelect.value;
      const key = `${selectedMonth}-${selectedDay}`;

      // Wyczyść opcje godzin
      timeSelect.innerHTML = '<option value="" disabled selected>Wybierz</option>';

      if (movies.hasOwnProperty(key)) {
        // Pobierz filmy dla wybranego dnia
        const moviesForDay = movies[key];

        // Znajdź wybrany film
        const selectedMovieData = moviesForDay.find(movie => movie.title === selectedMovie);

        if (selectedMovieData) {
          // Pobierz godziny dla wybranego filmu
          const { hall } = selectedMovieData;
          const timesForMovie = seatsData[hall];

          // Dodaj opcje godzin do listy rozwijanej
          timesForMovie.forEach(time => {
            const option = document.createElement('option');
            option.value = time;
            option.textContent = time;
            timeSelect.appendChild(option);
          });
        }
      }

      updateButtonState();
    }

    function updateHallOptions() {
      const selectedMovie = movieSelect.value;
      const selectedMonth = monthSelect.value;
      const selectedDay = daySelect.value;
      const selectedTime = timeSelect.value;
      const key = `${selectedMonth}-${selectedDay}`;

      // Wyczyść opcje sal
      hallSelect.innerHTML = '<option value="" disabled selected>Wybierz</option>';

      if (movies.hasOwnProperty(key)) {
        // Pobierz filmy dla wybranego dnia
        const moviesForDay = movies[key];

        // Znajdź wybrany film
        const selectedMovieData = moviesForDay.find(movie => movie.title === selectedMovie);

        if (selectedMovieData) {
          // Pobierz sale dla wybranego filmu
          const hallsForMovie = seatsData[selectedMovieData.hall];

          // Dodaj opcje sal do listy rozwijanej
          hallsForMovie.forEach(hall => {
            const option = document.createElement('option');
            option.value = hall;
            option.textContent = hall;
            hallSelect.appendChild(option);
          });
        }
      }

      updateButtonState();
    }

    function generateSeats() {
      const selectedMovie = movieSelect.value;
      const selectedMonth = monthSelect.value;
      const selectedDay = daySelect.value;
      const selectedTime = timeSelect.value;
      const selectedHall = hallSelect.value;
      const key = `${selectedMonth}-${selectedDay}`;

      seatsContainer.innerHTML = ''; // Wyczyść poprzednie miejsca

      if (movies.hasOwnProperty(key)) {
        // Pobierz filmy dla wybranego dnia
        const moviesForDay = movies[key];

        // Znajdź wybrany film
        const selectedMovieData = moviesForDay.find(movie => movie.title === selectedMovie);

        if (selectedMovieData) {
          // Pobierz miejsca dla wybranej sali
          const seatsForHall = seatsData[selectedHall];

          // Generuj miejsca dla wybranej sali
          seatsForHall.forEach(row => {
            const rowContainer = document.createElement('div');
            rowContainer.classList.add('row-container');

            row.forEach(seat => {
              const seatContainer = document.createElement('div');
              seatContainer.classList.add('seat-container');
              seatContainer.textContent = seat;

              seatContainer.addEventListener('click', () => {
                seatContainer.classList.toggle('selected'); // Dodaj/usuń klasę "selected" po kliknięciu

                updateButtonState();
              });

              rowContainer.appendChild(seatContainer);
            });

            seatsContainer.appendChild(rowContainer);
          });
        }
      }

      updateButtonState();
    }

    function updateButtonState() {
      submitButton.disabled = !(
        movieSelect.value &&
        timeSelect.value &&
        hallSelect.value &&
        seatsContainer.querySelector('.seat-container.selected') !== null
      );
    }

    // Nasłuchuj zmiany w wyborze miesiąca
    monthSelect.addEventListener('change', updateMovieOptions);

    // Nasłuchuj zmiany w wyborze dnia
    daySelect.addEventListener('change', updateMovieOptions);

    // Nasłuchuj zmiany w wyborze filmu
    movieSelect.addEventListener('change', updateTimeOptions);

    // Nasłuchuj zmiany w wyborze godziny
    timeSelect.addEventListener('change', updateHallOptions);

    // Nasłuchuj zmiany w wyborze sali
    hallSelect.addEventListener('change', generateSeats);

    // Inicjalizuj opcje filmów dla aktualnej daty
    updateMovieOptions();
  </script>
</body>
</html>
