<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Kinomax - Bilety</title>
</head>
<body>
  <header>
    <h1>Kinomax</h1>
    <nav>
      <ul>
        <li><a href="index.html">Strona główna</a></li>
        <li><a href="filmy.html">Filmy</a></li>
        <li><a href="repertuar.html">Repertuar</a></li>
        <li><a href="bilety.html">Bilety</a></li>
        <li><a href="kontakt.html">Kontakt</a></li>
      </ul>
    </nav>
  </header>
  <div id="content">
    <h2>Rezerwacja biletów</h2>

    <form>
      <label for="month">Miesiąc:</label>
      <select id="month">
        <option value="czerwiec" selected>Czerwiec</option>
        <!-- Dodaj opcje dla pozostałych miesięcy tutaj -->
      </select>

      <label for="day">Dzień:</label>
      <select id="day">
        <option value="">WYBIERZ</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <!-- Dodaj opcje dla pozostałych dni tutaj -->
      </select>

      <label for="movie">Film:</label>
      <select id="movie">
        <option value="" disabled selected>Wybierz</option>
        <!-- Dynamicznie generowane opcje filmów -->
      </select>

      <label for="time">Godzina:</label>
      <select id="time">
        <option value="" disabled selected>Wybierz</option>
        <!-- Dynamicznie generowane opcje godzin -->
      </select>

      <label for="hall">Sala:</label>
      <select id="hall">
        <option value="" disabled selected>Wybierz</option>
        <!-- Dynamicznie generowane opcje sal -->
      </select>

      <div id="seats"></div>

      <button type="submit" disabled>Zarezerwuj</button>
    </form>
  </div>

  <footer>
    <p>© 2023 Kinomax. Wszelkie prawa zastrzeżone.</p>
  </footer>

  <script>
    const moviesData = {
      'czerwiec-5': [
        { title: 'SPIDER-MAN: POPRZEZ MULTIWERSUM', time: '15:00', hall: 'sala1' },
        { title: 'SZYBCY I WŚCIEKLI 10', time: '18:00', hall: 'sala2' }
      ],
      'czerwiec-6': [
        { title: 'SPIDER-MAN: POPRZEZ MULTIWERSUM', time: '14:30', hall: 'sala1' },
        { title: 'STRAŻNICY GALAKTYKI: VOLUME 3', time: '17:30', hall: 'sala2' }
      ],
      'czerwiec-7': [
        { title: 'SZYBCY I WŚCIEKLI 10', time: '15:15', hall: 'sala1' },
        { title: 'KAC VEGAS', time: '18:30', hall: 'sala2' }
      ]
    };

    const monthSelect = document.getElementById('month');
    const daySelect = document.getElementById('day');
    const movieSelect = document.getElementById('movie');
    const timeSelect = document.getElementById('time');
    const hallSelect = document.getElementById('hall');
    const seatsContainer = document.getElementById('seats');
    const submitButton = document.querySelector('button[type="submit"]');

    // Wygeneruj opcje dla miesięcy
    for (const month in moviesData) {
      const option = document.createElement('option');
      option.value = month;
      option.textContent = month.charAt(0).toUpperCase() + month.slice(1);
      monthSelect.appendChild(option);
    }

    // Obsługa zmiany miesiąca
    monthSelect.addEventListener('change', () => {
      const selectedMonth = monthSelect.value;
      daySelect.innerHTML = '<option value="">WYBIERZ</option>'; // Wyczyść opcje dni

      if (selectedMonth) {
        const movies = moviesData[selectedMonth];

        for (const movie of movies) {
          const option = document.createElement('option');
          option.value = movie.title;
          option.textContent = movie.title;
          movieSelect.appendChild(option);
        }
      }
    });

    // Obsługa zmiany filmu
    movieSelect.addEventListener('change', () => {
      const selectedMonth = monthSelect.value;
      const selectedMovie = movieSelect.value;
      timeSelect.innerHTML = '<option value="" disabled selected>Wybierz</option>'; // Wyczyść opcje godzin
      hallSelect.innerHTML = '<option value="" disabled selected>Wybierz</option>'; // Wyczyść opcje sal
      seatsContainer.innerHTML = ''; // Wyczyść miejsca

      if (selectedMonth && selectedMovie) {
        const movies = moviesData[selectedMonth];
        const selectedMovieData = movies.find(movie => movie.title === selectedMovie);

        const option = document.createElement('option');
        option.value = selectedMovieData.time;
        option.textContent = selectedMovieData.time;
        timeSelect.appendChild(option);

        const hallOption = document.createElement('option');
        hallOption.value = selectedMovieData.hall;
        hallOption.textContent = selectedMovieData.hall;
        hallSelect.appendChild(hallOption);

        generateSeats(); // Wygeneruj miejsca
      }
    });

    // Obsługa zmiany godziny
    timeSelect.addEventListener('change', generateSeats);

    // Generowanie miejsc
    function generateSeats() {
      seatsContainer.innerHTML = ''; // Wyczyść miejsca
      const selectedHall = hallSelect.value;
      const selectedTime = timeSelect.value;

      if (selectedHall && selectedTime) {
        const rowLetters = ['A', 'B', 'C', 'D', 'E'];
        const seatCount = 8;

        for (const rowLetter of rowLetters) {
          const seatRow = document.createElement('div');
          seatRow.className = 'seat-row';

          for (let i = 1; i <= seatCount; i++) {
            const seat = document.createElement('div');
            seat.className = 'seat';
            seat.textContent = rowLetter + i;
            seat.addEventListener('click', toggleSeat);
            seatRow.appendChild(seat);
          }

          seatsContainer.appendChild(seatRow);
        }

        submitButton.disabled = false;
      }
    }

    // Obsługa kliknięcia na miejsce
    function toggleSeat(event) {
      const selectedSeat = event.target;
      selectedSeat.classList.toggle('selected');
    }
  </script>
</body>
</html>
