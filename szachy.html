<!DOCTYPE html>
<html>
<head>
	<title>Szachy</title>
	<style>
		.szachy {
			border:solid 1px #777;
		}
		.szachy td {
			width:36px;
			height:36px;
			text-align: center;
			vertical-align: middle;
			font-size:20px;
		}
		.szachy tr:nth-child(odd) td:nth-child(even) {
			background: #ccc;
		}
		.szachy tr:nth-child(even) td:nth-child(odd) {
			background: #ccc;
		}
	</style>
	<script>
		// funkcja do wykonywania ruchów bota
function makeMove() {
  // wykonaj losowy ruch
  var possibleMoves = game.moves();
  var randomIndex = Math.floor(Math.random() * possibleMoves.length);
  var move = possibleMoves[randomIndex];
  game.move(move);
  
  // zaktualizuj pozycję na planszy
  board.position(game.fen());
  
  // wyświetl wykonany ruch w konsoli
  console.log("Bot wykonuje ruch: " + move);
}

// ustaw timer na wykonanie ruchu bota
function startBotTimer() {
  setTimeout(makeMove, 1000); // 1 sekunda opóźnienia
}

// ustaw callback po wykonaniu ruchu przez człowieka
function onHumanMove(source, target) {
  // wykonaj ruch człowieka
  var move = game.move({ from: source, to: target });
  
  // sprawdź, czy ruch był poprawny
  if (move === null) {
    return "snapback";
  }
  
  // zaktualizuj pozycję na planszy
  board.position(game.fen());
  
  // wyświetl wykonany ruch w konsoli
  console.log("Człowiek wykonuje ruch: " + move.san);
  
  // rozpocznij timer na wykonanie ruchu bota
  startBotTimer();
}

// utwórz nową grę
var game = new Chess();

// utwórz nową planszę szachową
var board = Chessboard("myBoard", {
  draggable: true,
  onDrop: onHumanMove
});

	</script>
</head>
<body>
	<table class="szachy">
	  <tbody>
	    <tr>
	      <td>♜</td>
	      <td>♞</td>
	      <td>♝</td>
	      <td>♛</td>
	      <td>♚</td>
	      <td>♝</td>
	      <td>♞</td>
	      <td>♜</td>
	    </tr>
	    <tr>
	      <td>♟</td>
	      <td>♟</td>
	      <td>♟</td>
	      <td>♟</td>
	      <td>♟</td>
	      <td>♟</td>
	      <td>♟</td>
	      <td>♟</td>
	    </tr>
	    <tr>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	    </tr>
	    <tr>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	    </tr>
	    <tr>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	    </tr>
	    <tr>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	      <td></td>
	    </tr>
	    <tr>
	      <td>♙</td>
	      <td>♙</td>
	      <td>♙</td>
	      <td>♙</td>
	      <td>♙</td>
	      <td>♙</td>
	      <td>♙</td>
	      <td>♙</td>
	    </tr>
	    <tr>
	      <td>♖</td>
	      <td>♘</td>
	      <td>♗</td>
	      <td>♕</td>
	      <td>♔</td>
	      <td>♗</td>
	      <td>♘</td>
	      <td>♖</td>
	    </tr>
	  </tbody>
	</table>
</body>
</html>
